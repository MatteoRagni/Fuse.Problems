<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fuse.Problem: Problem&lt; FP &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fuse.Problem
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classProblem-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Problem&lt; FP &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The problem container class that abstract the device of filesystem.  
 <a href="classProblem.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="problem_8h_source.html">problem.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96e27199d27adcb8265b58ca78838bf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#a96e27199d27adcb8265b58ca78838bf5">Problem</a> (const char *dl)</td></tr>
<tr class="memdesc:a96e27199d27adcb8265b58ca78838bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization, calls init method.  <a href="#a96e27199d27adcb8265b58ca78838bf5">More...</a><br /></td></tr>
<tr class="separator:a96e27199d27adcb8265b58ca78838bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e2eff219989a0ab1e76d0f94b1002d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#ae8e2eff219989a0ab1e76d0f94b1002d">~Problem</a> ()</td></tr>
<tr class="memdesc:ae8e2eff219989a0ab1e76d0f94b1002d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroyes the Problem&lt;FP&gt; class.  <a href="#ae8e2eff219989a0ab1e76d0f94b1002d">More...</a><br /></td></tr>
<tr class="separator:ae8e2eff219989a0ab1e76d0f94b1002d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10e0a1a91b166510f2549fe578dd328"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#ab10e0a1a91b166510f2549fe578dd328">write</a> (<a class="el" href="problem_8h.html#a1bc75b802a1a0ad3544ec7fd31532ebc">FunctionInput</a> type, const char *buf)</td></tr>
<tr class="memdesc:ab10e0a1a91b166510f2549fe578dd328"><td class="mdescLeft">&#160;</td><td class="mdescRight">representation of the libfuse write operation  <a href="#ab10e0a1a91b166510f2549fe578dd328">More...</a><br /></td></tr>
<tr class="separator:ab10e0a1a91b166510f2549fe578dd328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6f28b6da147266ce0157f13c6027bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#a1b6f28b6da147266ce0157f13c6027bc">read</a> (int type, char *buf, size_t <a class="el" href="classProblem.html#a22a9dcaffee4bb4a88fa406d283dbcc1">size</a>, size_t offset)</td></tr>
<tr class="memdesc:a1b6f28b6da147266ce0157f13c6027bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">representation of the libfuse read operation  <a href="#a1b6f28b6da147266ce0157f13c6027bc">More...</a><br /></td></tr>
<tr class="separator:a1b6f28b6da147266ce0157f13c6027bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac771a996f2da7c16329dc265b6e43073"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#ac771a996f2da7c16329dc265b6e43073">pathid</a> (const char *path)</td></tr>
<tr class="memdesc:ac771a996f2da7c16329dc265b6e43073"><td class="mdescLeft">&#160;</td><td class="mdescRight">gives a number that identifies the file in path  <a href="#ac771a996f2da7c16329dc265b6e43073">More...</a><br /></td></tr>
<tr class="separator:ac771a996f2da7c16329dc265b6e43073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a9dcaffee4bb4a88fa406d283dbcc1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#a22a9dcaffee4bb4a88fa406d283dbcc1">size</a> (<a class="el" href="problem_8h.html#ae909cb983364c7e1a9fe347ee906393d">FunctionOutput</a> t)</td></tr>
<tr class="memdesc:a22a9dcaffee4bb4a88fa406d283dbcc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size (dimensions) of specified element.  <a href="#a22a9dcaffee4bb4a88fa406d283dbcc1">More...</a><br /></td></tr>
<tr class="separator:a22a9dcaffee4bb4a88fa406d283dbcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4618f70b01bf872914e82e13461eedfe"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#a4618f70b01bf872914e82e13461eedfe">filesize</a> (<a class="el" href="problem_8h.html#ae909cb983364c7e1a9fe347ee906393d">FunctionOutput</a> t, int i=0)</td></tr>
<tr class="memdesc:a4618f70b01bf872914e82e13461eedfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of characters in file  <a href="#a4618f70b01bf872914e82e13461eedfe">More...</a><br /></td></tr>
<tr class="separator:a4618f70b01bf872914e82e13461eedfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa4e834b0330c0738bb0cd8e38bcd37f1"><td class="memItemLeft" align="right" valign="top">vector&lt; FP &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#aa4e834b0330c0738bb0cd8e38bcd37f1">x</a></td></tr>
<tr class="separator:aa4e834b0330c0738bb0cd8e38bcd37f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadde036390046ff33d620823d3026eaf"><td class="memItemLeft" align="right" valign="top">vector&lt; FP &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#aadde036390046ff33d620823d3026eaf">p</a></td></tr>
<tr class="separator:aadde036390046ff33d620823d3026eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62913fd1e396f1b532ce2ec8d7437a8a"><td class="memItemLeft" align="right" valign="top">vector&lt; FP &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProblem.html#a62913fd1e396f1b532ce2ec8d7437a8a">y</a></td></tr>
<tr class="separator:a62913fd1e396f1b532ce2ec8d7437a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class FP&gt;<br />
class Problem&lt; FP &gt;</h3>

<p>The problem container class that abstract the device of filesystem. </p>
<p>This is a container of the problem. It handles loading and unloading of the shared object and also parses filesystem input. It contains string representation for the files and pointer to externally declared functions. The problem precision is unader the template class FP, and it can be float or double. Usually the real problem precision is described in PROBLEM_PRECISION macro. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96e27199d27adcb8265b58ca78838bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e27199d27adcb8265b58ca78838bf5">&#9670;&nbsp;</a></span>Problem()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::<a class="el" href="classProblem.html">Problem</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialization, calls init method. </p>
<p>The initialization function calls the init method and set some of the internal properties to initial values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dl</td><td>path to external shared object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Problem&lt;FP&gt; new instance </dd></dl>

</div>
</div>
<a id="ae8e2eff219989a0ab1e76d0f94b1002d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8e2eff219989a0ab1e76d0f94b1002d">&#9670;&nbsp;</a></span>~Problem()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::~<a class="el" href="classProblem.html">Problem</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroyes the Problem&lt;FP&gt; class. </p>
<p>Calls close method. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4618f70b01bf872914e82e13461eedfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4618f70b01bf872914e82e13461eedfe">&#9670;&nbsp;</a></span>filesize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::filesize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="problem_8h.html#ae909cb983364c7e1a9fe347ee906393d">FunctionOutput</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of characters in file </p>
<p>Number of characters in specified file. The second argument is used to specify the number of output file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>type of file to query </td></tr>
    <tr><td class="paramname">i</td><td>element number in y_file vector, default to 0 when not needed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac771a996f2da7c16329dc265b6e43073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac771a996f2da7c16329dc265b6e43073">&#9670;&nbsp;</a></span>pathid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::pathid </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gives a number that identifies the file in path </p>
<p>Returns a number that identifies the file in path. It returns a PROBLEM_E_NOFILE when the file does not exist. If number is negative, it is one of the fixed files, while if it is positive is one of the output files. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the required file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer that identifies the file (w.r.t FunctionOutput) </dd></dl>

</div>
</div>
<a id="a1b6f28b6da147266ce0157f13c6027bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6f28b6da147266ce0157f13c6027bc">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>representation of the libfuse read operation </p>
<p>It is the equivalent of the read operation from fuse. The first int value is the file identification from pathid, and the content of the file is inserted into the buffer buf, starting from the offset point, till reaching the size. Obviously, file size is truncated when requested segment is bigger than content. The function returns an integer, that is the number of bytes written into buf. This int format is required libfuse. That means we set a direct I/O filesystem type (see fpr_read function) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>file that is currently required </td></tr>
    <tr><td class="paramname">buf</td><td>the buffer in which informations will be copied </td></tr>
    <tr><td class="paramname">size</td><td>the number of byte maximum for buf </td></tr>
    <tr><td class="paramname">offset</td><td>the offset in byte since last reading </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of byte written in buf </dd></dl>

</div>
</div>
<a id="a22a9dcaffee4bb4a88fa406d283dbcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a9dcaffee4bb4a88fa406d283dbcc1">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="problem_8h.html#ae909cb983364c7e1a9fe347ee906393d">FunctionOutput</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size (dimensions) of specified element. </p>
<p>Returns the number of dimensions for vector x, vector p and number of functions in f. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>type of vector size to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a size_t value </dd></dl>

</div>
</div>
<a id="ab10e0a1a91b166510f2549fe578dd328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10e0a1a91b166510f2549fe578dd328">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="problem_8h.html#a1bc75b802a1a0ad3544ec7fd31532ebc">FunctionInput</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>representation of the libfuse write operation </p>
<p>It is the equivalent of the write operation from fuse. Already handles size, thus it is not in parameter list. Once called, it also calls update method to regenerate all internal representations. TODO: must be simplified and broken in smaller pieces. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>FunctionInput enum value to understand what is being written </td></tr>
    <tr><td class="paramname">buf</td><td>the buffer that is being written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of variable updated. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aadde036390046ff33d620823d3026eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadde036390046ff33d620823d3026eaf">&#9670;&nbsp;</a></span>p</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;FP&gt; <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::p</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>last values of parameters p </p>

</div>
</div>
<a id="aa4e834b0330c0738bb0cd8e38bcd37f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e834b0330c0738bb0cd8e38bcd37f1">&#9670;&nbsp;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;FP&gt; <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::x</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>last values of input x </p>

</div>
</div>
<a id="a62913fd1e396f1b532ce2ec8d7437a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62913fd1e396f1b532ce2ec8d7437a8a">&#9670;&nbsp;</a></span>y</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FP &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;FP&gt; <a class="el" href="classProblem.html">Problem</a>&lt; FP &gt;::y</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>last value of last evaluated function (it is garbage) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="problem_8h_source.html">problem.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
